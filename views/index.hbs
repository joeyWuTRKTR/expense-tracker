<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="/">家庭記帳本</a>
</nav>
<div class="container d-flex flex-column justify-content-center">

  <form action="/filter" class="filter" onchange="submit()">
    <select class="mx-auto" name="category" id="category" style="width:100%;">
      {{#each categories}}
      {{!-- 選擇的分類和某一分類匹配，顯示選擇的分類 --}}
      <option value="{{ this.categoryName }}" {{#is this.categoryName ../currentCategory }} selected {{/is}}>{{ this.categoryName }}</option>
      {{/each}}
    </select>
  </form>

  {{#if totalAmount}}
  <h3>總金額: {{ this.totalAmount}}</h3>
  {{/if}}

  <ul class="list-group">
    {{#each records}}
    <li class="list-group-item">
      <div class="row">
        <div class="col-auto mr-auto">
          <i class="{{ this.categoryIcon }}"></i>{{ this.name }}
          <p>{{ this.date }}</p>
        </div>

        <div class="col-auto ml-auto">
          <p>{{ this.amount }}
          <a href="./expense/{{ this._id }}/edit" class="btn">修改</a>
          <form action="/expense/{{this._id}}?_method=DELETE" method="POST" style="display: inline;">
            <button class="btn btn-danger btn-sm" type="submit">delete</button>
          </form>
          </p>
        </div>
      </div>
    </li>
    {{/each}}
  </ul>


  <a href="./expense/new" class="btn btn-primary">新增支出</a>
</div>